# Python Post-Processing for SLAM

This project provides tools and utilities for post-processing data generated by SLAM (Simultaneous Localization and Mapping) systems.

## Overview

The tool processes `.pgm` SLAM output files along with their `.yaml` metadata to generate various output formats, including `.png`, `.jpg`, `.svg`, `.json`, and `.dxf`. The workflow involves:

1. **Binary Image Creation**: Converts `.pgm` files into binary images using occupancy and free thresholds from the `.yaml` metadata.
2. **Edge Detection**: Applies the Canny Edge Detection algorithm (via OpenCV) to extract edges from the binary image.
3. **Line Extraction**: Uses the Hough Transform (via OpenCV) to detect and extract lines from the edge image.
4. **Output Generation**: Draws the extracted lines on a blank canvas to create a floor plan image. Optionally, vector format outputs (`.svg`, `.json`, `.dxf`) can also be generated based on user preferences.

## Features

- Supports multiple output formats: raster (`.png`, `.jpg`) and vector (`.svg`, `.json`, `.dxf`).
- Leverages OpenCV for efficient edge and line detection.
- Easy-to-use CLI for processing SLAM data.

## Dependencies

- **Python**: 3.7+
- **Required Libraries**:
   - OpenCV
   - NumPy
   - Matplotlib
   - (See `requirements.txt` for the complete list)

To install the dependencies, run:
```bash
pip install -r requirements.txt
```

## Usage

### Steps to Run

1. **Clone the Repository**:
      ```bash
      git clone https://github.com/NikhilMank/Python_post_proc_slam.git
      ```

2. **Navigate to the Project Directory**:
      ```bash
      cd Python_post_proc_slam
      ```

3. **Install Dependencies**:
      ```bash
      pip install -r requirements.txt
      ```

4. **Prepare SLAM Data**:
    - Ensure your SLAM output data is in `.pgm` format.
    - Place the `.pgm` files and their corresponding `.yaml` metadata in a directory.

5. **Run the Script**:
      ```bash
      python main.py --image_dir <path_to_slam_data> \
                            --yaml_path <path_to_slam_metadata> \
                            --output_dir <output_directory> \
                            --output_format <png|jpg> \
                            --vector_format <yes|no> \
                            --vector_choice <svg|json|dxf>
      ```

6. **View Results**:
    - Processed images and vector files (if selected) will be saved in the specified output directory.

### Example Command
```bash
python main.py --image_dir ./data \
                      --yaml_path ./data/room1.yaml \
                      --output_dir ./output \
                      --output_format png \
                      --vector_format yes \
                      --vector_choice svg
```

## Contact

For questions or feedback, feel free to reach out at [mankalinikhil9@gmail.com].

---
Happy Mapping! Thank you!